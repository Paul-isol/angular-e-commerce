<div class="py-10">
  <div class="flex items-center justify-between mb-8">
    <h1 class="text-3xl font-bold text-slate-900">Our Stocks</h1>
    <div class="search">
      <label class="input">
        <lucide-icon [img]="icons.Search" />
        <input [ngModel]="searchQuery()" (ngModelChange)="onSearch($event)" type="search" placeholder="Search" />
      </label>
    </div>
  </div>
  <div class="divider">Explore</div>
  @if(loading()){
  <div class="flex w-52 flex-col gap-4">
    <div class="skeleton h-32 w-full"></div>
    <div class="skeleton h-4 w-28"></div>
    <div class="skeleton h-4 w-full"></div>
    <div class="skeleton h-4 w-full"></div>
  </div>
  } @if(products()?.length===0 && !loading()){
  <h1 class="text-4xl">No Products Available...</h1>
  } @else {
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3">
    @for(product of products();track product.id){
    <div class="card bg-base-100 w-96 shadow-sm m-5">
      <span class="badge badge-xs badge-accent m-2">{{ product.category }}</span>
      <figure class="h-48">
        <img [src]="product.image" class="h-48" alt="Shoes" />
      </figure>
      <div class="card-body">
        <h2 class="card-title">{{ product.title }}</h2>
        <p class="flex items-center">
          <lucide-icon class="text-amber-400 fill-amber-500 mr-1 size-5" [img]="icons.Star" />
          {{ product.rating.rate }}
        </p>
        <div class="card-actions flex justify-between">
          <h2 class="flex font-semibold text-4xl text-black">${{ product.price }}</h2>
          <button (click)="onAddToCart(product)" class="btn btn-success text-white">Add to Cart</button>
        </div>
      </div>
    </div>
    }
  </div>
  }
</div>
